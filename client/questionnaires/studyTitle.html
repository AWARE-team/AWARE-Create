<template name="studyTitle">
    <h3 id="study-title">
        {{#if study and study.study_info.study_title}}
            {{study.study_info.study_title}}
        {{else}}
            New study
        {{/if}}
    </h3>

    {{> SingleQuestionnaireNav}}

    <div class="col-sm-9 input-form">

        {{#autoForm collection="Studies" id="studyInfo" type=formType doc=study}}
        <div class="panel panel-info">
            <div class="panel-heading">
                <h4>Study Information</h4>
            </div>
            <div class="panel-body">
                <p class="instruction">Basic information of the study. This information will be presented to participants upon joining your study.</p>
                    {{> afQuickField name="study_info.study_title" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9" placeholder="The title of your study "}}
                    {{> afQuickField name="study_info.study_description" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9" placeholder="A short description of your study"}}
                    {{> afQuickField name="study_info.researcher_first" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9" placeholder="First name"}}
                    {{> afQuickField name="study_info.researcher_last" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9" placeholder="Last name"}}
                    {{> afQuickField name="study_info.researcher_contact" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9" placeholder="email@example.com"}}
            </div>

            <div class="panel-heading">
                <h4>Database Configuration</h4>
            </div>
            <div class="panel-body">
                <p class="instruction">Where will the study data be stored?</p>
                {{> afQuickField name="database.database_host" id="database_host" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9" placeholder="e.g. 139.130.4.5"}}
                {{> afQuickField name="database.database_port" id="database_port" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9" placeholder="e.g. 3036"}}
                {{> afQuickField name="database.database_name" id="database_name" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9" placeholder="Database name"}}
                {{> afQuickField name="database.database_username" id="database_username" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9" placeholder="Username"}}
                {{> afQuickField name="database.database_password" id="database_password" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9" placeholder="Password" type="password"}}
                <!--{{> afQuickField name="database.database_ca" id="database_ca" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9" placeholder="Password" type="file"}}-->
                <!--{{> afQuickField name="database.database_client_cert" id="database_client_cert" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9" placeholder="Password" type="file"}}-->
                <!--{{> afQuickField name="database.database_client_key" id="database_client_key" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9" placeholder="Password" type="file"}}-->

                <button type="button" class="btn btn-primary btn-md" id="btn-test-connection">Test connection</button>

                <p id="connection_status" class="text-danger">{{dbConnectionResponse}}</p>
            </div>
        </div>

        <div>
            <button class="btn btn-primary btn-md pull-right" type=submit>Next step: questions</button>
        </div>
        {{/autoForm}}
    </div>
</TEMPLATE>
