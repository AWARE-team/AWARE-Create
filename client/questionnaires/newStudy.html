<template name="newStudy">
  <h3 id="study-title">
    New study {{study.title}}
  </h3>

  {{> SingleQuestionnaireNav}}

  <div class="col-sm-9 input-form">

    {{#autoForm collection="Studies" id="insertStudy" type="insert"}}

    <div class="panel panel-info">
      <div class="panel-heading">
        <h4>Study information</h4>
      </div>
      <div class="panel-body">
        <p class="instruction">Basic information of the new study. This information will be presented to participants upon joining your study.</p>

        {{> afQuickField name="title" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9" placeholder="The title of your study "}}
        {{> afQuickField name="description" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9" placeholder="A short description of your study"}}
        {{> afQuickField name="researcher_givenname"}}
        {{> afQuickField name="researcher_familyname"}}
        {{> afQuickField name="researcher_contact"}}
        {{> afQuickField name="user_id"}}
        {{> afQuickField name="createdAt"}}
        {{> afQuickField name="exported"}}
      </div>

      <div class="panel-body">
                <p class="instruction">Database configuration. Where will the study data be stored?</p>
                    <div class="form-group" data-required="true">
                        <label class="col-sm-3 control-label" for="ip-input">Host / Server IP</label>
                        <div class="col-sm-9">
                            <input type="text" id="ip-input" name="ip-input" placeholder="e.g. 139.130.4.5" required class="form-control">
                            <span class="help-block"></span>
                        </div>
                    </div>

                    <div class="form-group" data-required="true">
                        <label class="col-sm-3 control-label" for="database-input">Database</label>
                        <div class="col-sm-9">
                            <input type="text" id="database-input" name="database-input" placeholder="Database" required class="form-control">
                            <span class="help-block"></span>
                        </div>
                    </div>

                    <div class="form-group" data-required="true">
                        <label class="col-sm-3 control-label" for="username-input">Username</label>
                        <div class="col-sm-9">
                            <input type="text" id="username-input" name="username-input" placeholder="Username" required class="form-control">
                            <span class="help-block"></span>
                        </div>
                    </div>

                    <div class="form-group" data-required="true">
                        <label class="col-sm-3 control-label" for="password-input">Password</label>
                        <div class="col-sm-9">
                            <input type="password" id="password-input" name="password-input" placeholder="Password" required class="form-control">
                            <span class="help-block"></span>
                        </div>
                    </div>

                    <div class="form-group" data-required="true">
                        <label class="col-sm-3 control-label" for="ca-file">CA File (.pem)</label>
                        <div class="col-sm-9">
                            <input type="file" id="ca-file" name="ca-file" required class="form-control">
                            <span class="help-block"></span>
                        </div>
                    </div>

                    <div class="form-group" data-required="true">
                        <label class="col-sm-3 control-label" for="client-cert">Client Certificate (.pem)</label>
                        <div class="col-sm-9">
                            <input type="file" id="client-cert" name="client-cert" required class="form-control">
                            <span class="help-block"></span>
                        </div>
                    </div>

                    <div class="form-group" data-required="true">
                        <label class="col-sm-3 control-label" for="client-key">Client Private Key (.pem)</label>
                        <div class="col-sm-9">
                            <input type="file" id="client-key" name="client-key" required class="form-control">
                            <span class="help-block"></span>
                            <!-- TODO RIO: Add more descriptions to these help blocks -->
                        </div>
                    </div>

                    <button type="button" class="btn btn-primary btn-md" id="btn-test-connection">Test connection</button>

                    <p id="connection_status">abc {{dbConnectionResponse}}</p>
            </div>
        </div>

        <div>
            <button class="btn btn-primary btn-md pull-right" type=submit>Next step: questions</button>
        </div>
        {{/autoForm}}
    </div>
</template>
